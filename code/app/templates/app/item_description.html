{% extends 'app/base.html' %}

{% block content %}
    <div class="container">

        <!-- Errors -->
        {% for field in form %}
            {% for error in field.errors %}
                <p style="color: red;">{{ field.name }}: {{ error }}</p>
            {% endfor %} {# errors #}
        {% endfor %} {# fields #}

        <!-- Item Information -->
        <h1 id="product_name">{{ item.name }}</h1>

        <div id="all">
            <div id="row">
                <div class="column">
                    <!-- Item Image -->
                    <img src="/static/images/{{ item.image }}" alt="{{ item_image }}" width="80%" height="80%">
                </div>
                <div class="column">
                    <p style="padding-bottom: 30px">
                        {{ item.desc }}<br>
                    </p>
                    <a id="bold_this">
                        Price: ${{ item.price }}<br>
                        Stock: {{ item.stock }}<br>
                    </a>
                </div>
            </div>
        </div>

        {# check if the current user is logged in #}
        {% if user.is_authenticated %}
            <!-- Add to Cart -->
            <form id="add_to_cart" method="POST">
                {% csrf_token %}
                <input type="hidden" name="item_key" value="{{ item.uid }}">
                <input type="hidden" name="user_key" value="{{ user.id }}">
                <label for="quantity">Quantity: </label>
                <input type="number" min="1" name="quantity" value="1">
                <button type="submit">Add to Cart</button>
            </form>
            {% if item_added == 'success' %}
                <p style="color: green;">Item added to cart!</p>
            {% endif %} {# item add success #}
        {% endif %} {# user is authenticated #}

    </div>
{% endblock %}
